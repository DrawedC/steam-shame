<!DOCTYPE html>
<html lang="en">
<head>

        <!-- Google tag (gtag.js) -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-DPV3KP9K6G"></script>

<script>

  window.dataLayer = window.dataLayer || [];

  function gtag(){dataLayer.push(arguments);}

  gtag('js', new Date());

  gtag('config', 'G-DPV3KP9K6G');
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ player_name }}'s Steam Shame</title>
    <meta property="og:title" content="{{ player_name }}'s Steam Shame: {{ stats.shame_score }}%">
    <meta property="og:description" content="I own {{ stats.total_games }} games and have never touched {{ stats.never_played_count }} of them.">
    <meta property="og:image" content="{{ request.url_root }}share/{{ steam_id }}.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="{{ request.url_root }}share/{{ steam_id }}.png">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ˜¬</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>
    <style>
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Inter',-apple-system,sans-serif;background:#0a0a0c;min-height:100vh;color:#e5e5e5;overflow-x:hidden}

        /* Top bar */
        .top-bar{position:fixed;top:0;left:0;right:0;z-index:100;padding:.65rem 1.5rem;display:flex;align-items:center;gap:1rem;background:rgba(10,10,12,.9);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.05);transition:transform .3s}
        .top-bar.hidden{transform:translateY(-100%)}
        .top-logo{color:#fff;font-weight:800;font-size:1rem;white-space:nowrap;text-decoration:none}.top-logo span{color:#ff3366}
        .top-search{flex:1;max-width:380px;display:flex}
        .top-search input{flex:1;padding:.45rem .8rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:8px 0 0 8px;color:#fff;font-size:.8rem;font-family:inherit;outline:none}.top-search input:focus{border-color:rgba(255,255,255,.2)}.top-search input::placeholder{color:#444}
        .top-search button{padding:.45rem .9rem;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.08);border-left:none;border-radius:0 8px 8px 0;color:#bbb;font-size:.8rem;cursor:pointer;font-family:inherit}.top-search button:hover{background:rgba(255,255,255,.12);color:#fff}

        /* Hero */
        .hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem 2rem 3rem;position:relative;background:radial-gradient(ellipse at 50% 0%,rgba(120,0,255,.1),transparent 50%),#0a0a0c}
        .player-header{display:flex;align-items:center;gap:1rem;margin-bottom:2rem;opacity:0;animation:fadeUp .6s ease forwards}
        .avatar{width:60px;height:60px;border-radius:50%;border:2px solid rgba(255,255,255,.12)}
        .player-name{font-size:1.3rem;font-weight:700;color:#fff}.player-sub{color:#444;font-size:.8rem;margin-top:.15rem}
        .shame-display{opacity:0;animation:fadeUp .6s ease .15s forwards}
        .shame-num{font-size:clamp(6rem,20vw,11rem);font-weight:900;line-height:1;background:linear-gradient(135deg,#ff3366,#ff6b35 50%,#f7c94b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;position:relative}
        .shame-num::after{content:'%';font-size:.35em;position:absolute;top:.6em}
        .shame-label{font-size:1.1rem;font-weight:600;color:#444;text-transform:uppercase;letter-spacing:.2em;margin-top:.5rem}

        /* Hero stats - left aligned never played */
        .hero-stats{display:flex;gap:2rem;margin-top:1.25rem;opacity:0;animation:fadeUp .6s ease .25s forwards}
        .hero-stat-val{font-size:1.05rem;font-weight:700}.hero-stat-val.red{color:#ff3366}
        .hero-stat-lbl{font-size:.7rem;color:#444;margin-top:.1rem;text-transform:uppercase;letter-spacing:.04em}
        .hero-stats > div{text-align:left}

        /* Badges - stack vertically */
        .hero-badges{display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-top:1.5rem;opacity:0;animation:fadeUp .6s ease .4s forwards}
        .hero-badge{display:inline-flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:10px;padding:.45rem .85rem;min-width:0;width:100%;max-width:400px}
        .hero-badge-icon{font-size:1.15rem;flex-shrink:0}.hero-badge-text{text-align:left;min-width:0}

        /* Value card (updated - no scan button) */
        .value-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
            max-width: 400px;
        }
        .value-card h3 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }
        #value-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffcc66;
        }
        #value-warning {
            color: #ff6666;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* ... rest of your existing styles (DNA chart, leaderboard, etc.) ... */
    </style>
</head>
<body>
    <div class="top-bar">
        <a href="/" class="top-logo">Steam<span class="text-[#66c0f4]">Shame</span></a>
        <div class="top-search flex-1 max-w-[380px] flex">
            <input type="text" placeholder="Steam URL or username" />
            <button>Check</button>
        </div>
    </div>

    <div class="hero">
        <div class="player-header">
            <img src="{{ avatar_url }}" class="avatar" alt="{{ player_name }}">
            <div>
                <div class="player-name">{{ player_name }}</div>
                <div class="player-sub">Steam ID: {{ steam_id }}</div>
            </div>
        </div>

        <div class="shame-display">
            <div class="shame-num">{{ stats.shame_score }}</div>
            <div class="shame-label">SHAME SCORE</div>
        </div>

        <div class="hero-stats">
            <div>
                <div class="hero-stat-val">{{ stats.total_games }}</div>
                <div class="hero-stat-lbl">Games Owned</div>
            </div>
            <div>
                <div class="hero-stat-val red">{{ stats.never_played_count }}</div>
                <div class="hero-stat-lbl">Never Played</div>
            </div>
        </div>

        <!-- Value card (no scan button) -->
        <div class="value-card">
            <h3>Estimated Library Value</h3>
            <p id="value-display">Calculating estimate...</p>
            <p id="value-warning" style="color: #ff6666; font-size: 0.9rem;"></p>
        </div>

        <!-- Badges -->
        <div class="hero-badges">
            {% for badge in instant_badges %}
            <div class="hero-badge">
                <span class="hero-badge-icon">{{ badge.emoji }}</span>
                <div class="hero-badge-text">
                    <strong>{{ badge.name }}</strong><br>
                    <small>{{ badge.description }}</small>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- DNA Section (example placeholder - adjust as needed) -->
    <div id="dna-section">
        <h2>Gamer DNA</h2>
        <div id="radar-chart"></div>
        <div id="dna-warning"></div>
    </div>

    <!-- ... rest of your page (leaderboard, friends, etc.) ... -->

    <script>
        const steamId = "{{ steam_id }}";

        // Load value estimate
        fetch(`/api/value/${steamId}`)
            .then(r => r.json())
            .then(data => {
                document.getElementById('value-display').textContent = 
                    `$${data.library_value} total â€¢ $${data.unplayed_value} unplayed (estimate)`;
                if (data.warning) {
                    document.getElementById('value-warning').textContent = data.warning;
                }
            })
            .catch(() => {
                document.getElementById('value-display').textContent = "Error loading value";
            });

        // Load DNA (example - adjust selectors as needed)
        fetch(`/api/personality/${steamId}`)
            .then(r => r.json())
            .then(data => {
                if (data.warning) {
                    document.getElementById('dna-warning').textContent = data.warning;
                }
                // ... your Chart.js radar setup here ...
            });

        // ... rest of your JS ...
    </script>
</body>
</html>
